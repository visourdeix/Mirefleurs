(function(n){function t(t,i){var r=0;return n(t+" tr:not(.fm-row-all)").closest("tr").find('td[data-title="'+i+'"] input').each(function(){var t=n(this).val()===""?0:n(this).val();r+=parseInt(t)}),r}function i(i){n(i+' tr.fm-row-all input[name *="statistic"]').each(function(){var r=n(this).closest("td").attr("data-title");n(this).val(t(i,r))})}n(document).ready(function(){n("#jform_matches_repeater > table > tbody > tr").each(function(){n(this).find('input[name="jform[matches][score1]"], input[name="jform[matches][score2]"]').on("change",function(){n(this).closest("tr").find('select[name="jform[matches][state]"]').val(1).trigger("liszt:updated")});var t=n(this).find('input[name="jform[matches][id]"]').val();n(this).find("a.fm-edit").attr("href","index.php?option=com_fmmanager&task=match.edit&id="+t+"&return_page="+base64.encode(window.location.href))});n("#jform_playersStatistics_personstable tr:not(.fm-row-all) .fmtouchspin").TouchSpin();n('#jform_playersStatistics_personstable tr.fm-row-all input[id *="_statistic"]').attr("disabled","disabled");n('table tr.fm-row-all *[name*="[all]"]').each(function(){n(this).attr("name",n(this).attr("name").replace("jform","all"))});i("#jform_playersStatistics_personstable");n('#jform_playersStatistics_personstable tr:not(.fm-row-all) input[name *="statistic"]').on("change",function(){var i=n('#jform_playersStatistics_personstable tr.fm-row-all td[data-title="'+n(this).closest("td").attr("data-title")+'"] input');i.val(t("#jform_playersStatistics_personstable",n(this).closest("td").attr("data-title")))});n("#jform_matchesToAdd_repeater table tbody").on("change",'select[name="jform[matchesToAdd][team1_id]"]',function(t){var i=n(t.currentTarget).val(),r,u;i&&i!==undefined&&(r={id:i},u=function(i){var r=n(t.target).closest("tr"),u=i.stadium_id;n(r).find('select[name="jform[matchesToAdd][stadium_id]"]').val(u).trigger("liszt:updated");n("#jform_matchesToAdd_repeater").data("Repeater").save()},FM.loadAjaxData("getTeam",r,u))}.bind(this))})})(jQuery);